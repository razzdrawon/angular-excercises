<div class="exercise-container">
  <h1>Exercise 7-1: Full Testing Suite</h1>
  <p class="description">
    Componente diseñado para demostrar testing completo: unit, component, integration y E2E
  </p>

  <!-- Stats -->
  <div class="stats">
    <div class="stat-item">
      <strong>Total:</strong> {{ stats().total }}
    </div>
    <div class="stat-item">
      <strong>Active:</strong> {{ stats().active }}
    </div>
    <div class="stat-item">
      <strong>Completed:</strong> {{ stats().completed }}
    </div>
  </div>

  <!-- Add Todo -->
  <div class="add-todo">
    <input
      type="text"
      [value]="newTodoTitle()"
      (input)="newTodoTitle.set($any($event.target).value)"
      (keyup.enter)="addTodo(newTodoTitle())"
      placeholder="Add a new todo..."
      class="todo-input"
    />
    <button (click)="addTodo(newTodoTitle())" class="add-button">
      Add Todo
    </button>
  </div>

  <!-- Filters -->
  <div class="filters">
    <button
      (click)="setFilter('all')"
      [class.active]="filter() === 'all'"
    >
      All ({{ stats().total }})
    </button>
    <button
      (click)="setFilter('active')"
      [class.active]="filter() === 'active'"
    >
      Active ({{ stats().active }})
    </button>
    <button
      (click)="setFilter('completed')"
      [class.active]="filter() === 'completed'"
    >
      Completed ({{ stats().completed }})
    </button>
    @if (stats().completed > 0) {
      <button (click)="clearCompleted()" class="clear-button">
        Clear Completed
      </button>
    }
  </div>

  <!-- Todo List -->
  <div class="todo-list">
    @if (filteredTodos().length === 0) {
      <p class="empty-message">No todos found</p>
    } @else {
      @for (todo of filteredTodos(); track todo.id) {
        <div class="todo-item" [class.completed]="todo.completed">
          <input
            type="checkbox"
            [checked]="todo.completed"
            (change)="toggleTodo(todo.id)"
            class="todo-checkbox"
          />
          <span class="todo-title">{{ todo.title }}</span>
          <button
            (click)="removeTodo(todo.id)"
            class="remove-button"
            aria-label="Remove todo"
          >
            ×
          </button>
        </div>
      }
    }
  </div>
</div>

