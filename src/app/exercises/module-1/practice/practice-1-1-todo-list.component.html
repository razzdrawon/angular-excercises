<div class="practice-container">
  <header class="header">
    <h1>Practice 1-1: Todo List with Signals</h1>
    <p class="subtitle">Your turn! Implement a todo list using signals</p>
    <div class="instructions">
      <h3>Instructions:</h3>
      <ol>
        <li>Create signals for the todo list and input text</li>
        <li>Create computed signals for filtering and counting</li>
        <li>Implement methods to add, toggle, delete, and clear todos</li>
        <li>Check the reference exercises if you need help!</li>
      </ol>
    </div>
  </header>

  <div class="content">
    <!-- Add Todo Form -->
    <section class="section">
      <h2>Add New Todo</h2>
      <div class="form-group">
        <input 
          type="text" 
          [value]="newTodoInputText()" 
          (input)="newTodoInputText.set($any($event.target).value)"
          (keyup.enter)="addTodo()"
          placeholder="Enter a new todo..." />
        <button type="button" (click)="addTodo()">Add Todo</button>
      </div>
    </section>

    <!-- Todo Stats -->
    <section class="section">
      <h2>Statistics</h2>
      <div class="stats">
        <p>Incomplete: {{ incompleteCount() }}</p>
        <p>Completed: {{ completedTodos().length }}</p>
      </div>
    </section>

    <!-- Incomplete Todos -->
    <section class="section">
      <h2>Incomplete Todos</h2>
      <div class="todo-list">
        @for (todo of incompleteTodos(); track todo.id) {
          <div class="todo-item">
            <input 
              type="checkbox" 
              [checked]="todo.completed" 
              (change)="toggleTodo(todo.id)" />
            <span>{{ todo.text }}</span>
            <button (click)="deleteTodo(todo.id)">Delete</button>
          </div>
        }
      </div>
    </section>

    <!-- Completed Todos -->
    <section class="section">
      <h2>Completed Todos</h2>
      <div class="todo-list">
        @for (todo of completedTodos(); track todo.id) {
          <div class="todo-item completed">
            <input 
              type="checkbox" 
              [checked]="todo.completed" 
              (change)="toggleTodo(todo.id)" />
            <span>{{ todo.text }}</span>
            <button (click)="deleteTodo(todo.id)">Delete</button>
          </div>
        }
      </div>
      @if (completedTodos().length > 0) {
        <button (click)="clearCompleted()" class="clear-btn">Clear Completed</button>
      }
    </section>
  </div>
</div>
