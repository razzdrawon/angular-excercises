<div class="practice-container">
  <header class="header">
    <h1>Practice 1-2: Shopping Cart with Signals</h1>
    <p class="subtitle">Your turn! Implement a shopping cart using signals and computed values</p>
    <div class="instructions">
      <h3>Instructions:</h3>
      <ol>
        <li>Create signals for cart items</li>
        <li>Create computed signals for subtotal, tax, total, and item count</li>
        <li>Implement methods to add, remove, update quantity, and clear cart</li>
        <li>Use the reference exercises (exercise-1-2) for computed signals examples</li>
      </ol>
    </div>
  </header>

  <div class="content">
    <!-- Cart Summary -->
    <section class="section">
      <h2>Cart Summary</h2>
      <div class="summary">
        <p><strong>Item count:</strong> {{ itemCount() }}</p>
        <p><strong>Subtotal:</strong> ${{ subtotal() | number:'1.2-2' }}</p>
        <p><strong>Tax (10%):</strong> ${{ tax() | number:'1.2-2' }}</p>
        <p class="grand-total"><strong>Total:</strong> ${{ total() | number:'1.2-2' }}</p>
      </div>
    </section>

    <!-- Cart Items -->
    <section class="section">
      <h2>Cart Items</h2>
      @if (cartItems().length === 0) {
        <p class="empty-cart">Your cart is empty. Add some items to get started!</p>
      } @else {
        <div class="cart-items">
          @for (item of cartItems(); track item.id) {
            <div class="cart-item">
              <div class="item-info">
                <h4>{{ item.name }}</h4>
                <p class="price">Price: ${{ item.price | number:'1.2-2' }}</p>
                <div class="quantity-control">
                  <label>Quantity:</label>
                  <input 
                    type="number" 
                    min="1"
                    [value]="item.quantity" 
                    (input)="updateQuantity(item.id, +$any($event.target).value)" />
                </div>
                <p class="item-total">Total: ${{ (item.price * item.quantity) | number:'1.2-2' }}</p>
              </div>
              <button (click)="removeItem(item.id)" class="remove-btn">Remove</button>
            </div>
          }
        </div>
        <button (click)="clearCart()" class="clear-btn">Clear Cart</button>
      }
    </section>

    <!-- Add Items (Sample) -->
    <section class="section">
      <h2>Add Items</h2>
      <div class="add-items">
        <button (click)="addItem({ id: 1, name: 'Product A', price: 10.99, quantity: 1 })">
          Add Product A ($10.99)
        </button>
        <button (click)="addItem({ id: 2, name: 'Product B', price: 25.50, quantity: 1 })">
          Add Product B ($25.50)
        </button>
        <button (click)="addItem({ id: 3, name: 'Product C', price: 5.00, quantity: 1 })">
          Add Product C ($5.00)
        </button>
      </div>
    </section>
  </div>
</div>

